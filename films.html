<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MovieVerse | Filmler</title>
  <style>
    /* GENEL */
    *{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif}
    body{background:#0d0d0d;color:#f5f5f5;line-height:1.6}
    a{color:inherit;text-decoration:none}
    .container{width:90%;max-width:1300px;margin:auto}

    /* HEADER (index ile birebir) */
    .site-header{background:#0a0a0a;box-shadow:0 2px 10px rgba(255,0,0,.15);border-bottom:2px solid #1a1a1a;padding:20px 0;position:sticky;top:0;z-index:1000}
    .header-inner{display:flex;justify-content:space-between;align-items:center}
    .logo{color:#ff3333;font-size:28px;font-weight:bold;letter-spacing:1px;text-shadow:0 0 8px rgba(255,51,51,.4)}
    .nav{display:flex;gap:25px}
    .nav a{color:#f5f5f5;font-weight:500;position:relative;padding-bottom:5px;transition:.3s;text-decoration:none}
    .nav a::after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:#ff3333;transition:width .3s ease-in-out;box-shadow:0 0 10px rgba(255,51,51,.5)}
    .nav a:hover::after{width:100%}
    .nav a:hover{color:#ff3333}
    .nav a.active::after{width:100%}

    /* SAYFA */
    main{padding:80px 0;min-height:80vh}
    h2{color:#ff3333;text-align:center;margin-bottom:20px;font-size:32px;text-shadow:0 0 15px rgba(255,51,51,.3)}

    /* ARAMA */
    .search-wrap{display:flex;justify-content:center;margin:0 auto 30px;gap:10px}
    .search-input{
      width:100%;max-width:520px;padding:12px 14px;border-radius:8px;border:1px solid #333;background:#0d0d0d;color:#fff;
      outline:none;transition:.3s
    }
    .search-input:focus{border-color:#ff3333;box-shadow:0 0 10px rgba(255,51,51,.3)}

    /* GRID – tam 3 sütun (responsive) */
    .film-grid{display:grid;gap:30px}
    @media (min-width: 0px)   {.film-grid{grid-template-columns:1fr}}
    @media (min-width: 600px) {.film-grid{grid-template-columns:repeat(2,1fr)}}
    @media (min-width: 992px) {.film-grid{grid-template-columns:repeat(3,1fr)}}

    .film-card{background:#1a1a1a;border-radius:12px;overflow:hidden;box-shadow:0 0 15px rgba(255,51,51,.2);transition:transform .3s, box-shadow .3s}
    .film-card:hover{transform:translateY(-8px);box-shadow:0 0 25px rgba(255,51,51,.4)}
    .film-card img{width:100%;height:220px;object-fit:cover;display:block}
    .film-info{padding:15px}
    .film-info h3{color:#ff3333;margin-bottom:8px;font-size:20px}
    .film-info p{color:#ddd;font-size:14px;margin-bottom:8px}

    .badge-wrap{display:flex;flex-wrap:wrap;gap:8px}
    .badge{
      background:#0d0d0d;border:1px solid #333;color:#ccc;font-size:12px;padding:4px 8px;border-radius:999px
    }

    /* FOOTER */
    .site-footer{background:#0a0a0a;color:#999;text-align:center;padding:25px 0;border-top:2px solid #b30000;margin-top:80px}
    .tagline{color:#ff3333;margin-top:5px;font-weight:500}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="logo">MovieVerse</h1>
      <nav class="nav">
        <a href="index.html">Ana Sayfa</a>
        <a href="films.html" class="active">Filmler</a>
        <a href="plans.html">Planlar</a>
        <a href="admin.html" class="admin-link">Yönetim Paneli</a>
      </nav>
    </div>
  </header>

  <!-- İÇERİK -->
  <main class="container">
    <h2>Eklenen Filmler</h2>

    <div class="search-wrap">
      <input id="search" class="search-input" type="text" placeholder="Film adında ara... (örn: Interstellar, Joker)">
    </div>

    <div id="filmGrid" class="film-grid"></div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <p>© 2025 MovieVerse. Tüm Hakları Saklıdır.</p>
      <p class="tagline">MovieVerse — Sinema, Yeniden Doğdu.</p>
    </div>
  </footer>

  <script>
    const filmGrid = document.getElementById("filmGrid");
    const searchInput = document.getElementById("search");

    function getFilms(){
      return JSON.parse(localStorage.getItem("films")) || [];
    }

    function render(list){
      filmGrid.innerHTML = "";
      if (!list.length){
        filmGrid.innerHTML = "<p style='text-align:center;color:#bbb;'>Uygun film bulunamadı.</p>";
        return;
      }

      list.forEach(film=>{
        const hasLink = !!film.link;
        const card = document.createElement(hasLink ? "a" : "div");
        if (hasLink){
          card.href = film.link;
          card.target = "_blank";
          card.rel = "noopener noreferrer";
          card.style.color = "inherit";
          card.style.textDecoration = "none";
          card.style.cursor = "pointer";
        }
        card.className = "film-card";

        const genres = (film.genres || []);
        const badges = genres.map(g=>`<span class="badge">${g}</span>`).join("");

        card.innerHTML = `
          <img src="${film.image || 'https://via.placeholder.com/600x400/111/fff?text=Movie+Poster'}" alt="${film.title || 'Poster'}">
          <div class="film-info">
            <h3>${film.title || "İsimsiz"}</h3>
            <p>${film.description || ""}</p>
            ${genres.length ? `<div class="badge-wrap">${badges}</div>` : ""}
          </div>
        `;
        filmGrid.appendChild(card);
      });
    }

    function applySearch(){
      const q = (searchInput.value || "").toLowerCase().trim();
      const films = getFilms();
      const filtered = q ? films.filter(f => (f.title || "").toLowerCase().includes(q)) : films;
      render(filtered);
    }

    // init
    searchInput.addEventListener("input", applySearch);
    render(getFilms());
  </script>
</body>
</html>

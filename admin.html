<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YÃ¶netim Paneli | MovieVerse</title>
  <style>
    /* GENEL */
    *{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif}
    body{background:#0d0d0d;color:#f5f5f5;line-height:1.6}
    a{color:inherit;text-decoration:none}
    .container{width:90%;max-width:1300px;margin:auto}

    /* HEADER (index ile birebir) */
    .site-header{background:#0a0a0a;box-shadow:0 2px 10px rgba(255,0,0,.15);border-bottom:2px solid #1a1a1a;padding:20px 0;position:sticky;top:0;z-index:1000}
    .header-inner{display:flex;justify-content:space-between;align-items:center}
    .logo{color:#ff3333;font-size:28px;font-weight:bold;letter-spacing:1px;text-shadow:0 0 8px rgba(255,51,51,.4)}
    .nav{display:flex;gap:25px}
    .nav a{color:#f5f5f5;font-weight:500;position:relative;padding-bottom:5px;transition:.3s;text-decoration:none}
    .nav a::after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:#ff3333;transition:width .3s ease-in-out;box-shadow:0 0 10px rgba(255,51,51,.5)}
    .nav a:hover::after{width:100%}
    .nav a:hover{color:#ff3333}
    .nav a.active::after{width:100%}

    /* SAYFA */
    main{padding:80px 0;min-height:80vh}
    h2{color:#ff3333;text-align:center;margin-bottom:20px;font-size:32px;text-shadow:0 0 15px rgba(255,51,51,.3)}

    /* FORM BLOKU */
    .admin-section{background:#1a1a1a;border-radius:12px;padding:40px;box-shadow:0 0 15px rgba(255,51,51,.15);width:100%;max-width:900px;margin:0 auto 50px}
    .admin-section h3{color:#ff3333;margin-bottom:20px;text-align:center}
    form{display:grid;grid-template-columns:1fr 1fr;gap:16px 20px}
    .full{grid-column:1/-1}
    label{font-weight:600;color:#ddd;font-size:14px}
    input,textarea{width:100%;padding:12px;border:1px solid #333;border-radius:8px;background:#0d0d0d;color:#fff;transition:.3s}
    input:focus,textarea:focus{border-color:#ff3333;box-shadow:0 0 10px rgba(255,51,51,.3)}
    textarea{resize:vertical;min-height:90px}
    .hint{color:#aaa;font-size:12px;margin-top:-10px}

    .btn-row{display:flex;gap:10px}
    .btn{display:inline-block;padding:10px 18px;border-radius:8px;font-weight:600;transition:.3s;border:2px solid #ff3333;color:#ff3333;background:none;cursor:pointer}
    .btn:hover{background:#ff3333;color:#fff;box-shadow:0 0 15px rgba(255,51,51,.6)}
    .btn.secondary{border-color:#666;color:#ccc}
    .btn.secondary:hover{background:#444;color:#fff;box-shadow:none}

    /* LÄ°STE */
    .film-list{width:100%;max-width:900px;margin:0 auto}
    .film-item{background:#0d0d0d;border:1px solid #333;border-radius:10px;padding:18px;margin-bottom:14px;display:grid;grid-template-columns:1fr auto;gap:10px;transition:.3s}
    .film-item:hover{border-color:#ff3333;box-shadow:0 0 12px rgba(255,51,51,.2)}
    .film-meta{color:#ddd}
    .film-meta small{color:#aaa;display:block;margin-top:4px;word-break:break-word}
    .film-actions{display:flex;align-items:center;gap:8px}
    .edit-btn,.delete-btn{background:none;padding:8px 12px;border-radius:8px;cursor:pointer;transition:.3s;font-weight:600;border:2px solid}
    .edit-btn{border-color:#ffaa33;color:#ffaa33}
    .edit-btn:hover{background:#ffaa33;color:#1a1a1a}
    .delete-btn{border-color:#ff3333;color:#ff3333}
    .delete-btn:hover{background:#ff3333;color:#fff}

    /* FOOTER */
    .site-footer{background:#0a0a0a;color:#999;text-align:center;padding:25px 0;border-top:2px solid #b30000;margin-top:80px}
    .tagline{color:#ff3333;margin-top:5px;font-weight:500}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="logo">MovieVerse</h1>
      <nav class="nav">
        <a href="index.html">Ana Sayfa</a>
        <a href="films.html">Filmler</a>
        <a href="plans.html">Planlar</a>
        <a href="admin.html" class="active">YÃ¶netim Paneli</a>
      </nav>
    </div>
  </header>

  <!-- ANA Ä°Ã‡ERÄ°K -->
  <main class="container">
    <h2>YÃ¶netim Paneli</h2>

    <section class="admin-section">
      <h3>ðŸŽ¬ Film Ekle / DÃ¼zenle</h3>
      <form id="filmForm">
        <div>
          <label for="title">Film AdÄ±</label>
          <input type="text" id="title" required placeholder="Ã–rn: Interstellar">
        </div>
        <div>
          <label for="image">Poster URL</label>
          <input type="url" id="image" placeholder="https://...">
        </div>
        <div class="full">
          <label for="link">TÄ±klanÄ±nca Gidilecek Link (Yeni Sekme)</label>
          <input type="url" id="link" placeholder="https://imdb.com/title/...">
        </div>
        <div class="full">
          <label for="genres">TÃ¼rler</label>
          <input type="text" id="genres" placeholder="Ã–rn: Bilim Kurgu, Dram">
          <div class="hint">Birden fazla tÃ¼rÃ¼ virgÃ¼lle ayÄ±r: Aksiyon, Macera, Bilim Kurgu</div>
        </div>
        <div class="full">
          <label for="description">AÃ§Ä±klama</label>
          <textarea id="description" required placeholder="KÄ±sa bir aÃ§Ä±klama..."></textarea>
        </div>
        <div class="btn-row full">
          <button type="submit" id="submitBtn" class="btn">Filmi Ekle</button>
          <button type="button" id="cancelEditBtn" class="btn secondary" style="display:none;">DÃ¼zenlemeyi Ä°ptal Et</button>
        </div>
      </form>
    </section>

    <section class="film-list" id="filmList"></section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <p>Â© 2025 MovieVerse. TÃ¼m HaklarÄ± SaklÄ±dÄ±r.</p>
      <p class="tagline">MovieVerse â€” Sinema, Yeniden DoÄŸdu.</p>
    </div>
  </footer>

  <script>
    const LS_KEY = "films";
    const form = document.getElementById("filmForm");
    const filmListEl = document.getElementById("filmList");
    const submitBtn = document.getElementById("submitBtn");
    const cancelEditBtn = document.getElementById("cancelEditBtn");

    const titleEl = document.getElementById("title");
    const imageEl = document.getElementById("image");
    const linkEl  = document.getElementById("link");
    const genresEl= document.getElementById("genres");
    const descEl  = document.getElementById("description");

    let editIndex = null;

    const getFilms = () => JSON.parse(localStorage.getItem(LS_KEY)) || [];
    const saveFilms = (arr) => localStorage.setItem(LS_KEY, JSON.stringify(arr));

    function renderList() {
      const films = getFilms();
      filmListEl.innerHTML = "";

      if (!films.length) {
        filmListEl.innerHTML = "<p style='text-align:center;color:#bbb;'>HenÃ¼z film eklenmemiÅŸ.</p>";
        return;
      }

      films.forEach((film, i) => {
        const item = document.createElement("div");
        item.className = "film-item";
        const genresText = (film.genres && film.genres.length) ? film.genres.join(", ") : "â€”";
        item.innerHTML = `
          <div class="film-meta">
            <strong>${film.title || "Ä°simsiz"}</strong>
            <small>TÃ¼rler: ${genresText}</small>
            <small>Link: ${film.link ? `<a href="${film.link}" target="_blank" rel="noopener noreferrer" style="color:#9cf;text-decoration:none;">${film.link}</a>` : "<em>yok</em>"}</small>
            <small>Poster: ${film.image ? `<a href="${film.image}" target="_blank" rel="noopener noreferrer" style="color:#9cf;text-decoration:none;">gÃ¶rÃ¼ntÃ¼le</a>` : "<em>yok</em>"}</small>
            <small>AÃ§Ä±klama: ${film.description || "-"}</small>
          </div>
          <div class="film-actions">
            <button class="edit-btn" data-i="${i}">DÃ¼zenle</button>
            <button class="delete-btn" data-i="${i}">Sil</button>
          </div>
        `;
        filmListEl.appendChild(item);
      });

      filmListEl.querySelectorAll(".delete-btn").forEach(btn=>{
        btn.addEventListener("click", e=>{
          const idx = +e.currentTarget.dataset.i;
          const films = getFilms();
          films.splice(idx,1);
          saveFilms(films);
          renderList();
          resetForm();
        });
      });

      filmListEl.querySelectorAll(".edit-btn").forEach(btn=>{
        btn.addEventListener("click", e=>{
          const idx = +e.currentTarget.dataset.i;
          const film = getFilms()[idx];
          editIndex = idx;
          titleEl.value  = film.title || "";
          imageEl.value  = film.image || "";
          linkEl.value   = film.link  || "";
          genresEl.value = (film.genres || []).join(", ");
          descEl.value   = film.description || "";
          submitBtn.textContent = "Filmi GÃ¼ncelle";
          cancelEditBtn.style.display = "inline-block";
          window.scrollTo({top:0,behavior:"smooth"});
        });
      });
    }

    function resetForm(){
      editIndex = null;
      form.reset();
      submitBtn.textContent = "Filmi Ekle";
      cancelEditBtn.style.display = "none";
    }

    form.addEventListener("submit", (e)=>{
      e.preventDefault();
      const genres = genresEl.value
        .split(",")
        .map(g=>g.trim())
        .filter(Boolean);

      const newFilm = {
        title: titleEl.value.trim(),
        image: imageEl.value.trim(),
        link : linkEl.value.trim(),
        genres,
        description: descEl.value.trim(),
      };

      const films = getFilms();
      if (editIndex === null) films.push(newFilm);
      else films[editIndex] = newFilm;

      saveFilms(films);
      renderList();
      resetForm();
    });

    cancelEditBtn.addEventListener("click", resetForm);

    // init
    renderList();
  </script>
</body>
</html>
